{"version":3,"sources":["index.js","scoreboard.jsx","positions.jsx","logos.js","scoreboard_auto.jsx","bigscreen.js","dives.js","infoscreen.js","controls.jsx","commercial.jsx"],"names":["window","getParameterByName","name","url","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","channel","competition","auto","document","body","classList","contains","render","getElementById","console","log","commercial","Scoreboard","props","title","filter","dead","state","data","slice","socket","io","on","competitionData","Object","values","action","test","setState","off","timeout","clearTimeout","diver","event","panels","judges","map","p","concat","apply","referee","toLowerCase","nationality","assistantReferee","prefix","panel","count","curr","postfix","j","type","position","startlist","sort","a","b","size","length","start","setTimeout","bind","round","r","i","rank","team","result","rounds","dive","dd","effectiveAwards","penalty","maxAward","Component","StreamPosition","Flag","backgroundImage","override","backgroundSize","hidePosition","showRank","BO","ASV","AUT","BLR","BoS","BSHK","CAN","Czech","ES","FIN","FRA","Fribourg","GAK","Greece","IT","JSS","KSTK","LUK","MKK","Monaco","Netherland","PL","ROU","SDG","SDRD","SPIF","Spinn","SSC","Swiss","Tiirat","UKR","VanDi","VSS","EJC2017","BUL","CRO","CZE","DEN","ESP","GBR","GER","GRE","HUN","ITA","LTU","NED","NOR","POL","RUS","SRB","SUI","SWE","TUR","ddd","DDD","handleData","self","lock","lockData","hideScore","Bigscreen","competitions","sortBy","x","latestUpdate","take","value","k","logo","numToShow","showPanel","match","diveName","divePos","showHeight","indexOf","height","Infoscreen","index","compName","compsAsArray","keys","comp","cycle","Controls","emit","command","argument","Control","onDelete","Commercial","show"],"mappings":"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","file":"","sourcesContent":["import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Board from \"./scoreboard\";\r\nimport AutoBoard from \"./scoreboard_auto\";\r\nimport Screen from \"./bigscreen.js\";\r\nimport InfoScreen from \"./infoscreen.js\";\r\nimport Controls from \"./controls.jsx\";\r\nimport Commercial from \"./commercial.jsx\";\r\nimport \"./scoreboard.scss\";\r\n\r\nwindow.getParameterByName = function(name, url) {\r\n    if (!url) {\r\n      url = window.location.href;\r\n    }\r\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\r\n        results = regex.exec(url);\r\n    if (!results) return null;\r\n    if (!results[2]) return '';\r\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n}\r\n\r\nconst channel = getParameterByName(\"channel\");\r\nconst competition = getParameterByName(\"competition\");\r\nconst auto = getParameterByName(\"auto\");\r\n\r\nif (document.body.classList.contains(\"bigscreen\")) {\r\n  ReactDOM.render(<Screen channel={channel || 'screen'} />, document.getElementById(\"scoreboard\"));\r\n} else if(document.body.classList.contains(\"infoscreen\")){\r\n  console.log(\"RENDERING INFO\", channel, competition)\r\n  ReactDOM.render(<InfoScreen competition={competition} channel={channel || 'screen'} />, document.getElementById(\"scoreboard\"));\r\n} else if(document.body.classList.contains(\"controls\")){\r\n  ReactDOM.render(<Controls channel={channel || 'screen'} />, document.getElementById(\"scoreboard\"));\r\n} else if(auto=='true') {\r\n  ReactDOM.render(<AutoBoard competition={competition} channel={channel || 'stream'} />, document.getElementById(\"scoreboard\"));\r\n} else {\r\n  ReactDOM.render(<Board competition={competition} channel={channel || 'stream'} />, document.getElementById(\"scoreboard\"));\r\n}\r\n\r\nconst commercial = document.getElementById(\"commercial\");\r\nif(commercial){\r\n  ReactDOM.render(<Commercial channel={channel || \"screen\"} />, commercial)\r\n}\r\n","import React from \"react\";\r\nimport { StreamPosition, Flag } from \"./positions\";\r\nexport default class Scoreboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    document.title = props.competition;\r\n    this.filter = window.getParameterByName(\"filter\");\r\n    this.dead = window.getParameterByName(\"dods\");\r\n    this.state = { data: {}, slice: 1 };\r\n    this.socket = io(\"/divecalc\");\r\n    this.socket.on(this.props.channel, data => {\r\n      const competitionData =\r\n        data[this.props.competition] || Object.values(data)[0];\r\n      if (this.filter == \"results\" && competitionData) {\r\n        competitionData.action = \"results\";\r\n      }\r\n      if (\r\n        competitionData &&\r\n        (!this.filter || new RegExp(this.filter).test(competitionData.action))\r\n      ) {\r\n        this.setState({\r\n          data: competitionData,\r\n          slice: 1\r\n        });\r\n      }\r\n    });\r\n  }\r\n  componentWillUnmount() {\r\n    this.socket.off(this.props.channel);\r\n  }\r\n  render() {\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n      delete this.timeout;\r\n    }\r\n    //this.timeout = setTimeout((() => this.setState({ data: {} })).bind(this), 6000);\r\n    const data = this.state.data;\r\n    if (!data) {\r\n      return false;\r\n    }\r\n    const diver = data.diver;\r\n    const event = data.event;\r\n    switch (data.action) {\r\n      case \"judges\":\r\n        const panels = event.judges.panels.map(p => p.judges);\r\n        const judges = [].concat.apply([], panels);\r\n        return (\r\n          <div className=\"standings\">\r\n            <div className=\"standingsHeader\">\r\n              <div className=\"competition\">{event.name}</div>\r\n              <div className=\"description\">Judges</div>\r\n            </div>\r\n            {event.judges.referee && (\r\n              <div className=\"resultline\">\r\n                <div className=\"position\" />\r\n                <div className=\"name\">\r\n                  {event.judges.referee.name.toLowerCase()}\r\n                  {event.judges.referee.nationality &&\r\n                    \" (\" + event.judges.referee.nationality + \")\"}\r\n                </div>\r\n                <div className=\"role\">Referee</div>\r\n              </div>\r\n            )}\r\n            {event.judges.assistantReferee && (\r\n              <div className=\"resultline\">\r\n                <div className=\"position\" />\r\n                <div className=\"name\">\r\n                  {event.judges.assistantReferee.name.toLowerCase()}\r\n                  {event.judges.assistantReferee.nationality &&\r\n                    \" (\" + event.judges.assistantReferee.nationality + \")\"}\r\n                </div>\r\n                <div className=\"role\">Ass. Referee</div>\r\n              </div>\r\n            )}\r\n            {event.judges.panels.map(p => {\r\n              const prefix = p.panel;\r\n              let count = 0;\r\n              let curr = null;\r\n              return p.judges.map(j => {\r\n                const postfix = j.type ? (j.type == \"SYNCRO\" ? \"S\" : \"E\") : \"\";\r\n                if (curr != postfix) {\r\n                  curr = postfix;\r\n                  count = 0;\r\n                }\r\n                count += 1;\r\n                return (\r\n                  <div className=\"resultline\" key={j.position}>\r\n                    <div className=\"position\" />\r\n                    <div className=\"name\">\r\n                      {j.name.toLowerCase()}\r\n                      {j.nationality && \" (\" + j.nationality + \")\"}\r\n                    </div>\r\n                    <div className=\"role\">\r\n                      {postfix}\r\n                      &nbsp;\r\n                      {count}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              });\r\n            })}\r\n            <div className=\"standingsFooter\">{data.competition}</div>\r\n          </div>\r\n        );\r\n      case \"startlist\":\r\n      case \"results\":\r\n        const startlist = data.action == \"startlist\";\r\n        let results = startlist\r\n          ? event.results.sort((a, b) => a.position - b.position)\r\n          : event.results;\r\n        const size = results.length;\r\n        if (size > 10) {\r\n          const start = (this.state.slice - 1) * 10;\r\n          results = results.slice(start, start + 10);\r\n          if (start > size) {\r\n            if ((this.filter = \"results\")) {\r\n              setTimeout(() => {\r\n                this.setState({ slice: 1 });\r\n              }, 10);\r\n            }\r\n            return false;\r\n          }\r\n          this.timeout = setTimeout(\r\n            (() => this.setState({ slice: this.state.slice + 1 })).bind(this),\r\n            10000\r\n          );\r\n        }\r\n        return (\r\n          <div className=\"standings\">\r\n            <div className=\"standingsHeader\">\r\n              <div className=\"competition\">{event.name}</div>\r\n              <div className=\"description\">\r\n                {startlist ? \"Start list\" : \"Results round \" + event.round}\r\n              </div>\r\n            </div>\r\n            {results.map((r, i) => (\r\n              <div className=\"resultline\" key={i}>\r\n                <div className=\"position\">\r\n                  {startlist ? r.position : r.rank}\r\n                </div>\r\n                <div className=\"name\">\r\n                  <Flag team={r.team} override={this.dead ? '/img/dods.svg' : false} />\r\n                  {r.name.toLowerCase()}\r\n                  {r.nationality && \" (\" + r.nationality + \")\"}\r\n                </div>\r\n                {!startlist && <div className=\"points\">{r.result}</div>}\r\n              </div>\r\n            ))}\r\n            <div className=\"standingsFooter\">{data.competition}</div>\r\n          </div>\r\n        );\r\n      case \"dive\":\r\n        return (\r\n          <div className=\"dive\">\r\n            <div className=\"header\">\r\n              <StreamPosition diver={diver} override={this.dead ? '/img/dods.svg' :false} />\r\n              <span className=\"name\">\r\n                {\" \" + diver.name.toLowerCase()}\r\n                {diver.nationality && \" (\" + diver.nationality + \")\"}\r\n              </span>\r\n            </div>\r\n            {!this.dead && (\r\n              <div className=\"data\">\r\n                <div className=\"item\">\r\n                  <div>\r\n                    Round {event.round}/{event.rounds}\r\n                  </div>\r\n                </div>\r\n                <div className=\"item\">\r\n                  <div>Dive {diver.dive.dive}</div>\r\n                  <div>DD {diver.dive.dd}</div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {!this.dead && (\r\n              <div className=\"data\">\r\n                <div className=\"item\">\r\n                  <div>Current rank</div>\r\n                  <div>{diver.rank}</div>\r\n                </div>\r\n                <div className=\"item\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      case \"awards\":\r\n        return (\r\n          <div className=\"awards\">\r\n            <div className=\"header\">\r\n              <StreamPosition diver={diver} override={this.dead ? '/img/dods.svg' :false} />\r\n              <span className=\"name\">\r\n                {\" \" + diver.name.toLowerCase()}\r\n                {diver.nationality && \" (\" + diver.nationality + \")\"}\r\n              </span>\r\n            </div>\r\n            <div className=\"data\">\r\n              <div className=\"item\">\r\n                <div>\r\n                  Round {event.round}/{event.rounds}\r\n                </div>\r\n                <div>Current rank: {diver.rank}</div>\r\n              </div>\r\n              <div className=\"item\">\r\n                <div>\r\n                  Dive <strong>{diver.dive.result}</strong>\r\n                </div>\r\n                <div>\r\n                  Total <strong>{diver.result}</strong>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"data judgeAwards\">\r\n              {diver.dive.effectiveAwards.map((a, i) => (\r\n                <div className=\"judgeAward\" key={i}>\r\n                  {a}\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {!/0[,.]0/.test(diver.dive.penalty) ||\r\n            diver.dive.maxAward != \"10\" ? (\r\n              <div className=\"data judgeAwards\">\r\n                <div className=\"judgeAward\">\r\n                  {!/0[,.]0/.test(diver.dive.penalty) && (\r\n                    <div>Penalty: {diver.dive.penalty}</div>\r\n                  )}\r\n                </div>\r\n                <div className=\"judgeAward\">\r\n                  {diver.dive.maxAward != \"10\" && (\r\n                    <div>Max Award: {diver.dive.maxAward}</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              false\r\n            )}\r\n          </div>\r\n        );\r\n      default:\r\n        return <div />;\r\n    }\r\n  }\r\n}\r\n","import logos from \"./logos\";\r\nimport React from \"react\";\r\n\r\nexport function StreamPosition(props) {\r\n    const diver = props.diver;\r\n    console.log(props)\r\n    return (\r\n      <span\r\n        className=\"position\"\r\n        style={{\r\n          backgroundImage: (logos[diver.team] || props.override) && \"url(\" + (props.override || logos[diver.team]) + \")\",\r\n          backgroundSize: '100%'\r\n        }}\r\n      >\r\n        {props.hidePosition ? '' : props.showRank ? diver.rank : diver.position}\r\n      </span>\r\n    );\r\n}\r\nexport function Flag(props){\r\n  return(\r\n    <img className=\"flag\" src={props.override || logos[props.team]} />\r\n  )\r\n}","export const BO = {\r\n  \"B/S\": \"/img/flags/norway.svg\",\r\n  \"BS.\": \"/img/flags/norway.svg\",\r\n  \"Cz.\": \"/img/flags/czech-republic.svg\",\r\n  \"Fr.\": \"/img/flags/switzerland.svg\",\r\n  \"Gr.\": \"/img/flags/greece.svg\",\r\n  \"KS.\": \"/img/flags/norway.svg\",\r\n  \"Mo.\": \"/img/flags/monaco.svg\",\r\n  \"Ne.\": \"/img/flags/netherlands.svg\",\r\n  \"SD.\": \"/img/flags/switzerland.svg\",\r\n  \"Sp.\": \"/img/flags/norway.svg\",\r\n  \"SP.\": \"/img/flags/sweden.svg\",\r\n  \"Sw.\": \"/img/flags/switzerland.svg\",\r\n  \"Ti.\": \"/img/flags/finland.svg\",\r\n  \"Va.\": \"/img/flags/finland.svg\",\r\n  ASV: \"/img/flags/austria.svg\",\r\n  AUT: \"/img/flags/austria.svg\",\r\n  BLR: \"/img/flags/belarus.svg\",\r\n  BoS: \"/img/flags/sweden.svg\",\r\n  BSHK: \"/img/flags/sweden.svg\",\r\n  CAN: \"/img/flags/canada.svg\",\r\n  Czech: \"/img/flags/czech-republic.svg\",\r\n  ES: \"/img/flags/spain.svg\",\r\n  FIN: \"/img/flags/finland.svg\",\r\n  FRA: \"/img/flags/france.svg\",\r\n  Fribourg: \"/img/flags/switzerland.svg\",\r\n  GAK: \"/img/flags/austria.svg\",\r\n  Greece: \"/img/flags/greece.svg\",\r\n  IT: \"/img/flags/italy.svg\",\r\n  JSS: \"/img/flags/sweden.svg\",\r\n  KSTK: \"/img/flags/norway.svg\",\r\n  LUK: \"/img/flags/denmark.svg\",\r\n  MKK: \"/img/flags/sweden.svg\",\r\n  Monaco: \"/img/flags/monaco.svg\",\r\n  Netherland: \"/img/flags/netherlands.svg\",\r\n  PL: \"/img/flags/republic-of-poland.svg\",\r\n  ROU: \"/img/flags/romania.svg\",\r\n  SDG: \"/img/flags/switzerland.svg\",\r\n  SDRD: \"/img/flags/switzerland.svg\",\r\n  SPIF: \"/img/flags/sweden.svg\",\r\n  Spinn: \"/img/flags/norway.svg\",\r\n  SSC: \"/img/flags/norway.svg\",\r\n  Swiss: \"/img/flags/switzerland.svg\",\r\n  Tiirat: \"/img/flags/finland.svg\",\r\n  UKR: \"/img/flags/ukraine.svg\",\r\n  VanDi: \"/img/flags/finland.svg\",\r\n  VSS: \"/img/flags/sweden.svg\",\r\n};\r\nexport const EJC2017 = {\r\n  \"BaS\": \"/img/Bas.png\",\r\n  \"BSt\": \"/img/BStKlogo.svg\",\r\n  \"Kle\": \"/img/Kle.png\",\r\n  \"KST\": \"/img/kristiansand.png\",\r\n  \"LEN TDC\": \"/img/lenflag.png\",\r\n  \"Osl\": \"/img/Osl.png\",\r\n  \"RS\": \"/img/randaberg.png\",\r\n  \"rs\": \"/img/randaberg.png\",\r\n  \"Spi\": \"/img/spinn.png\",\r\n  \"SSC\": \"/img/ssc.png\",\r\n  \"TS&\": \"/img/trondheim.png\",\r\n  \"PSK\": \"/img/pingvin.jpg\",\r\n  AUT: \"/img/flags/austria.svg\",\r\n  BLR: \"/img/flags/belarus.svg\",\r\n  BUL: \"/img/flags/bulgaria.svg\",\r\n  CRO: \"/img/flags/croatia.svg\",\r\n  CZE: \"/img/flags/czech-republic.svg\",\r\n  DEN: \"/img/flags/denmark.svg\",\r\n  ESP: \"/img/flags/spain.svg\",\r\n  FIN: \"/img/flags/finland.svg\",\r\n  FRA: \"/img/flags/france.svg\",\r\n  GBR: \"/img/flags/united-kingdom.svg\",\r\n  GER: \"/img/flags/germany.svg\",\r\n  GRE: \"/img/flags/greece.svg\",\r\n  HUN: \"/img/flags/hungary.svg\",\r\n  ITA: \"/img/flags/italy.svg\",\r\n  LTU: \"/img/flags/lithuania.svg\",\r\n  NED: \"/img/flags/netherlands.svg\",\r\n  NOR: \"/img/flags/norway.svg\",\r\n  POL: \"/img/flags/republic-of-poland.svg\",\r\n  ROU: \"/img/flags/romania.svg\",\r\n  RUS: \"/img/flags/russia.svg\",\r\n  SRB: \"/img/flags/serbia.svg\",\r\n  SUI: \"/img/flags/switzerland.svg\",\r\n  SWE: \"/img/flags/sweden.svg\",\r\n  TUR: \"/img/flags/turkey.svg\",\r\n  UKR: \"/img/flags/ukraine.svg\"\r\n};\r\n\r\nexport const ddd = {\r\n  DDD: \"/img/dods.svg\"\r\n}\r\n\r\nexport default EJC2017;\r\n","import React from \"react\";\r\nimport { StreamPosition, Flag } from \"./positions\";\r\nexport default class Scoreboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    document.title = props.competition;\r\n    this.filter = window.getParameterByName(\"filter\");\r\n    window.dead = !!window.getParameterByName(\"dods\");\r\n    console.log(window.getParameterByName('dods'));\r\n    this.state = { data: {}, slice: 1 };\r\n    this.socket = io(\"/divecalc\");\r\n    this.socket.on(this.props.channel, data => {\r\n      this.handleData(data);\r\n    });\r\n  }\r\n  handleData(data) {\r\n    var self = this;\r\n    const competitionData =\r\n      data[this.props.competition] || Object.values(data)[0];\r\n    competitionData && console.log(competitionData.action, competitionData);\r\n    if (this.filter == \"results\" && competitionData) {\r\n      competitionData.action = \"results\";\r\n    }\r\n    if (\r\n      competitionData &&\r\n      (!this.filter || new RegExp(this.filter).test(competitionData.action))\r\n    ) {\r\n      if (this.lock) {\r\n        this.lockData = competitionData;\r\n        return;\r\n      }\r\n      switch (competitionData.action) {\r\n        case \"awards\":\r\n          this.lock = setTimeout(() => {\r\n            delete self.lock;\r\n            if (self.lockData) {\r\n              self.setState({\r\n                data: self.lockData,\r\n                slice: 1\r\n              });\r\n            }\r\n            delete self.lockData;\r\n          }, 15000);\r\n          setTimeout(function() {\r\n            self.setState({\r\n              data: competitionData,\r\n              slice: 1\r\n            });\r\n          }, 5000);\r\n          if (\r\n            competitionData.diver.position ==\r\n            competitionData.event.results.length\r\n          ) {\r\n            setTimeout(() => {\r\n              competitionData.action = \"results\";\r\n              self.setState({\r\n                data: competitionData,\r\n                slice: 1\r\n              });\r\n            }, 10000);\r\n          }\r\n          break;\r\n        default:\r\n          self.setState({ data: competitionData, slice: 1 });\r\n          break;\r\n      }\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    this.socket.off(this.props.channel);\r\n  }\r\n  render() {\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n      delete this.timeout;\r\n    }\r\n    //this.timeout = setTimeout((() => this.setState({ data: {} })).bind(this), 6000);\r\n    const data = this.state.data;\r\n    if (!data) {\r\n      return false;\r\n    }\r\n    const diver = data.diver;\r\n    const event = data.event;\r\n    switch (data.action) {\r\n      case \"judges\":\r\n        const panels = event.judges.panels.map(p => p.judges);\r\n        const judges = [].concat.apply([], panels);\r\n        return (\r\n          <div className=\"standings\">\r\n            <div className=\"standingsHeader\">\r\n              <div className=\"competition\">{event.name}</div>\r\n              <div className=\"description\">Judges</div>\r\n            </div>\r\n            {event.judges.referee && (\r\n              <div className=\"resultline\">\r\n                <div className=\"position\" />\r\n                <div className=\"name\">\r\n                  {event.judges.referee.name.toLowerCase()}\r\n                  {event.judges.referee.nationality &&\r\n                    \" (\" + event.judges.referee.nationality + \")\"}\r\n                </div>\r\n                <div className=\"role\">Referee</div>\r\n              </div>\r\n            )}\r\n            {event.judges.assistantReferee && (\r\n              <div className=\"resultline\">\r\n                <div className=\"position\" />\r\n                <div className=\"name\">\r\n                  {event.judges.assistantReferee.name.toLowerCase()}\r\n                  {event.judges.assistantReferee.nationality &&\r\n                    \" (\" + event.judges.assistantReferee.nationality + \")\"}\r\n                </div>\r\n                <div className=\"role\">Ass. Referee</div>\r\n              </div>\r\n            )}\r\n            {event.judges.panels.map(p => {\r\n              const prefix = p.panel;\r\n              let count = 0;\r\n              let curr = null;\r\n              return p.judges.map(j => {\r\n                const postfix = j.type ? (j.type == \"SYNCRO\" ? \"S\" : \"E\") : \"\";\r\n                if (curr != postfix) {\r\n                  curr = postfix;\r\n                  count = 0;\r\n                }\r\n                count += 1;\r\n                return (\r\n                  <div className=\"resultline\" key={j.position}>\r\n                    <div className=\"position\" />\r\n                    <div className=\"name\">\r\n                      {j.name.toLowerCase()}\r\n                      {j.nationality && \" (\" + j.nationality + \")\"}\r\n                    </div>\r\n                    <div className=\"role\">\r\n                      {postfix}\r\n                      &nbsp;\r\n                      {count}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              });\r\n            })}\r\n            <div className=\"standingsFooter\">{data.competition}</div>\r\n          </div>\r\n        );\r\n      case \"startlist\":\r\n      case \"results\":\r\n        const startlist = data.action == \"startlist\";\r\n        let results = startlist\r\n          ? event.results.sort((a, b) => a.position - b.position)\r\n          : event.results;\r\n        const size = results.length;\r\n        if (size > 10) {\r\n          const start = (this.state.slice - 1) * 10;\r\n          results = results.slice(start, start + 10);\r\n          if (start > size) {\r\n            if ((this.filter = \"results\")) {\r\n              setTimeout(() => {\r\n                this.setState({ slice: 1 });\r\n              }, 10);\r\n            }\r\n            return false;\r\n          }\r\n          this.timeout = setTimeout(\r\n            (() => this.setState({ slice: this.state.slice + 1 })).bind(this),\r\n            5000\r\n          );\r\n        }\r\n        return (\r\n          <div className=\"standings\">\r\n            <div className=\"standingsHeader\">\r\n              <div className=\"competition\">{event.name}</div>\r\n              <div className=\"description\">\r\n                {startlist ? \"Start list\" : \"Results round \" + event.round}\r\n              </div>\r\n            </div>\r\n            {results.map((r, i) => (\r\n              <div className=\"resultline\" key={i}>\r\n                <div className=\"position\">\r\n                  {startlist ? r.position : r.rank}\r\n                </div>\r\n                <div className=\"name\">\r\n                  <Flag\r\n                    team={r.team}\r\n                    override={window.dead ? \"/img/dods.svg\" : false}\r\n                  />\r\n                  {r.name.toLowerCase()}\r\n                  {r.nationality && \" (\" + r.nationality + \")\"}\r\n                </div>\r\n                {!startlist && <div className=\"points\">{r.result}</div>}\r\n              </div>\r\n            ))}\r\n            <div className=\"standingsFooter\">{data.competition}</div>\r\n          </div>\r\n        );\r\n      case \"dive\":\r\n        var self = this;\r\n        self.timeout = setTimeout(() => {\r\n          self.setState({ data: null, slice: 1 });\r\n        }, 5000);\r\n        console.log(window.dead)\r\n        return (\r\n          <div className=\"dive\">\r\n            <div className=\"header\">\r\n              <StreamPosition\r\n                diver={diver}\r\n                override={window.dead ? \"/img/dods.svg\" : false}\r\n              />\r\n              <span className=\"name\">\r\n                {\" \" + diver.name.toLowerCase()}\r\n                {diver.nationality && \" (\" + diver.nationality + \")\"}\r\n              </span>\r\n            </div>\r\n            {!window.dead && (\r\n              <div className=\"data\">\r\n                <div className=\"item\">\r\n                  <div>\r\n                    Round {event.round}/{event.rounds}\r\n                  </div>\r\n                </div>\r\n                <div className=\"item\">\r\n                  <div>Dive {diver.dive.dive}</div>\r\n                  <div>DD {diver.dive.dd}</div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            {!window.dead && (\r\n              <div className=\"data\">\r\n                <div className=\"item\">\r\n                  <div>Current rank</div>\r\n                  <div>{diver.rank}</div>\r\n                </div>\r\n                <div className=\"item\" />\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      case \"awards\":\r\n        var self = this;\r\n        self.timeout = setTimeout(() => {\r\n          self.setState({ data: null, slice: 1 });\r\n        }, 5000);\r\n        return (\r\n          <div className=\"awards\">\r\n            <div className=\"header\">\r\n              <StreamPosition\r\n                diver={diver}\r\n                override={window.dead ? \"/img/dods.svg\" : false}\r\n              />\r\n              <span className=\"name\">\r\n                {\" \" + diver.name.toLowerCase()}\r\n                {diver.nationality && \" (\" + diver.nationality + \")\"}\r\n              </span>\r\n            </div>\r\n            <div className=\"data\">\r\n              <div className=\"item\">\r\n                <div>\r\n                  Round {event.round}/{event.rounds}\r\n                </div>\r\n                <div>Current rank: {diver.rank}</div>\r\n              </div>\r\n              <div className=\"item\">\r\n                <div>\r\n                  Dive <strong>{diver.dive.result}</strong>\r\n                </div>\r\n                <div>\r\n                  Total <strong>{diver.result}</strong>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"data judgeAwards\">\r\n              {diver.dive.effectiveAwards.map((a, i) => (\r\n                <div className=\"judgeAward\" key={i}>\r\n                  {a}\r\n                </div>\r\n              ))}\r\n            </div>\r\n            {!/0[,.]0/.test(diver.dive.penalty) ||\r\n            diver.dive.maxAward != \"10\" ? (\r\n              <div className=\"data judgeAwards\">\r\n                <div className=\"judgeAward\">\r\n                  {!/0[,.]0/.test(diver.dive.penalty) && (\r\n                    <div>Penalty: {diver.dive.penalty}</div>\r\n                  )}\r\n                </div>\r\n                <div className=\"judgeAward\">\r\n                  {diver.dive.maxAward != \"10\" && (\r\n                    <div>Max Award: {diver.dive.maxAward}</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              false\r\n            )}\r\n          </div>\r\n        );\r\n      default:\r\n        return <div />;\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport dives from \"./dives\";\r\nimport logos from \"./logos\";\r\nimport _ from \"lodash\";\r\n\r\nlet hideScore = false;\r\n\r\nexport default class Bigscreen extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    hideScore = window.getParameterByName(\"hideScore\")!==null;\r\n    this.socket = io(\"/divecalc\");\r\n    this.socket.on(this.props.channel, data => {\r\n      console.log(data);\r\n      this.setState({ competitions: data });\r\n    });\r\n    this.state = { competitions: {} };\r\n  }\r\n  componentWillUnmount() {\r\n    this.socket.off(this.props.channel);\r\n  }\r\n  render() {\r\n    var competitions = _(this.state.competitions).sortBy(x=>-x.latestUpdate).take(2).sortBy(x=>x.event.name).value();\r\n    return (\r\n      <div className=\"bigscreen\">\r\n        {competitions.map(k =>\r\n          <Scoreboard key={k.event.name} {...k} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Scoreboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { slice: 1 };\r\n    document.title = props.competition;\r\n  }\r\n  componentWillReceiveProps() {\r\n    this.setState({ slice: 1 });\r\n  }\r\n  render() {\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n      delete this.timeout;  \r\n    }\r\n    console.log(this.props);\r\n    //this.timeout = setTimeout((() => this.setState({ data: {} })).bind(this), 6000);\r\n    const data = this.props;\r\n    const diver = data.diver;\r\n    const event = data.event;\r\n    const logo = logos[diver.nationality || diver.team];\r\n    switch (data.action) {\r\n      case \"judges\":\r\n        const panels = event.judges.panels.map(p => p.judges);\r\n        const judges = [].concat.apply([], panels);\r\n        let numToShow = judges.length;\r\n        event.judges.referee && numToShow++;\r\n        event.judges.assistantReferee && numToShow++;\r\n        return (\r\n          <div className=\"standings\">\r\n            <div className=\"standingsHeader\">\r\n              <div className=\"competition\">\r\n                {event.name}\r\n              </div>\r\n              <div className=\"description\">\r\n                Judges\r\n              </div>\r\n            </div>\r\n            {event.judges.referee &&\r\n              <div className=\"resultline\">\r\n                <div\r\n                  className=\"position\"\r\n                />\r\n                <div className=\"name\">\r\n                  {event.judges.referee.name.toLowerCase()}\r\n                  {event.judges.referee.nationality &&\r\n                    \" (\" + event.judges.referee.nationality + \")\"}\r\n                </div>\r\n                <div className=\"role\">Referee</div>\r\n              </div>}\r\n            {event.judges.assistantReferee &&\r\n              <div className=\"resultline\">\r\n                <div\r\n                  className=\"position\"\r\n                />\r\n                <div className=\"name\">\r\n                  {event.judges.assistantReferee.name.toLowerCase()}\r\n                  {event.judges.assistantReferee.nationality &&\r\n                    \" (\" + event.judges.assistantReferee.nationality + \")\"}\r\n                </div>\r\n                <div className=\"role\">Ass. Referee</div>\r\n              </div>}\r\n            {event.judges.panels.map(p => {\r\n              const prefix = p.panel;\r\n              const showPanel = event.judges.panels.length > 1;\r\n              let count = 0;\r\n              let curr = null;\r\n              return p.judges.map(j => {\r\n                const postfix = j.type ? (j.type == \"SYNCRO\" ? \"S\" : \"E\") : \"\";\r\n                if (curr != postfix) {\r\n                  curr = postfix;\r\n                  count = 0;\r\n                }\r\n                count += 1;\r\n                return <div className=\"resultline\" key={j.position}>\r\n                    <div className=\"position\" />\r\n                    <div className=\"name\">\r\n                      {j.name.toLowerCase()}\r\n                      {j.nationality && \" (\" + j.nationality + \")\"}\r\n                    </div>\r\n                    <div className=\"role\">\r\n                      {postfix}&nbsp;{count}\r\n                      {showPanel ? \"(\" + p.panel + \")\" : \"\"}\r\n                    </div>\r\n                  </div>;\r\n              });\r\n            })}\r\n            {numToShow < 11 &&\r\n              <div className=\"standingsFooter\">\r\n                {data.competition}\r\n              </div>}\r\n          </div>\r\n        );\r\n      case \"startlist\":\r\n      case \"results\":\r\n        const startlist = data.action == \"startlist\";\r\n        let results = startlist\r\n          ? event.results.sort((a, b) => a.position - b.position)\r\n          : event.results;\r\n        const size = results.length;\r\n        if (size > 9) {\r\n          const start = (this.state.slice - 1) * 9;\r\n          results = results.slice(start, start + 9);\r\n          if (start > size) {\r\n            setTimeout(()=>this.setState({slice:1}), 10);\r\n          }\r\n          this.timeout = setTimeout(\r\n            (() => this.setState({ slice: this.state.slice + 1 })).bind(this),\r\n            15000\r\n          );\r\n        }\r\n        return (\r\n          <div className=\"standings\">\r\n            <div className=\"standingsHeader\">\r\n              <div className=\"competition\">\r\n                {event.name}\r\n              </div>\r\n              <div className=\"description\">\r\n                {startlist ? \"Startlist\" : \"Result round \" + event.round}\r\n              </div>\r\n            </div>\r\n            {results.map((r, i) =>\r\n              <div className=\"resultline\" key={i}>\r\n                <div\r\n                  className=\"position\"\r\n                  style={{ backgroundImage: \"url(\" + (logos[r.nationality] || logos[r.team]) + \")\", backgroundSize: \"contain\" }}\r\n                />\r\n                <div className=\"name\">\r\n                  {startlist ? r.position : r.rank}.&nbsp;{r.name.toLowerCase()}\r\n                  {r.nationality && \" (\" + r.nationality + \")\"}\r\n                </div>\r\n                {!startlist && <div className=\"points\">{r.result}</div>}\r\n              </div>\r\n            )}\r\n            <div className=\"standingsFooter\">\r\n              {data.competition}\r\n            </div>\r\n          </div>\r\n        );\r\n      default:\r\n        const match = /(\\d+)(\\w)/.exec(diver.dive.dive);\r\n        const diveName = dives[match[1]];\r\n        const divePos = match[2];\r\n        const showHeight = [\"5\", \"7.5\", \"10\", \"7,5\"].indexOf(diver.dive.height) >= 0;\r\n        return (\r\n          <div className=\"standings\">\r\n            <div className=\"standingsHeader\">\r\n              <div className=\"competition\">\r\n                {event.name}\r\n              </div>\r\n              {!hideScore &&\r\n              <div className=\"description\">\r\n                {\"Top \" +\r\n                  event.results.filter(r => r.rank > 0).slice(0, 5).length +\r\n                  \" round \" +\r\n                  event.round}\r\n              </div>\r\n              }\r\n            </div>\r\n            {!hideScore && event.results.filter(r => r.rank > 0).slice(0, 5).map((r, i) =>\r\n              <div className=\"resultline\" key={i}>\r\n                <div\r\n                  className=\"position\"\r\n                  style={{ backgroundImage: \"url(\" + (logos[r.nationality] || logos[r.team]) + \")\", backgroundSize: \"contain\" }}\r\n                />\r\n                <div className=\"name\">\r\n                  {r.rank}.&nbsp;{r.name.toLowerCase()}\r\n                  {r.nationality && \" (\" + r.nationality + \")\"}\r\n                </div>\r\n                <div className=\"points\">{r.result}</div>\r\n              </div>\r\n            )}\r\n            <div className=\"spacer\" />\r\n            <div className=\"diver\">\r\n              <div\r\n                className=\"position\"\r\n                style={{ backgroundImage: \"url(\" + logo + \")\" }}\r\n              />\r\n              {showHeight\r\n                ? <div className=\"name\">\r\n                    {diver.position + \". \" + diver.name.toLowerCase()}\r\n                    {diver.nationality &&\r\n                      \" (\" + diver.nationality + \")\"} ({event.round + \"/\" + event.rounds})\r\n                  </div>\r\n                : <div className=\"name\">\r\n                    {diver.position + \". \" + diver.name.toLowerCase()}\r\n                    {diver.nationality && \" (\" + diver.nationality + \")\"}\r\n                  </div>}\r\n              {showHeight\r\n                ? <div className=\"round\">{diver.dive.height} m</div>\r\n                : <div className=\"round\">\r\n                    {event.round + \"/\" + event.rounds}\r\n                  </div>}\r\n              <div className=\"bsdive\">\r\n                <div className=\"code\">{diver.dive.dive}</div>\r\n                <div className=\"dd\">{diver.dive.dd}</div>\r\n              </div>\r\n            </div>\r\n            {data.action == \"dive\"\r\n              ? <div className=\"whiteline awardline\">\r\n                  <div>Current rank: {hideScore ? \"N/A\" : diver.rank}</div>\r\n                  <div>Total: {diver.result}</div>\r\n                  <div className=\"divename\">{diveName}</div>\r\n                </div>\r\n              : false}\r\n            {data.action == \"awards\"\r\n              ? <div className=\"whiteline awardline\">\r\n                  {diver.dive.effectiveAwards.map((a, i) =>\r\n                    <div className=\"result\" key={i}>{a}</div>\r\n                  )}\r\n                </div>\r\n              : false}\r\n            {data.action == \"awards\"\r\n              ? <div className=\"whiteline awardline\">\r\n                  <div>Dive: {diver.dive.result}</div>\r\n                  <div>Total: {diver.result}</div>\r\n                  <div>Rank: {hideScore ? \"N/A\" : diver.rank}</div>\r\n                </div>\r\n              : false}\r\n            {data.action == \"awards\" &&\r\n              (!/0[,.]0/.test(diver.dive.penalty) ||\r\n                diver.dive.maxAward != \"10\")\r\n              ? <div className=\"whiteline awardline\">\r\n                  {!/0[,.]0/.test(diver.dive.penalty) &&\r\n                    <div>Penalty: {diver.dive.penalty}</div>}\r\n                  {diver.dive.maxAward != \"10\" &&\r\n                    <div>Max award: {diver.dive.maxAward}</div>}\r\n                </div>\r\n              : false}\r\n          </div>\r\n        );\r\n    }\r\n  }\r\n}\r\n","export default {\r\n  101: \"Forward Dive\",\r\n  102: \"Forward 1 Somersault\",\r\n  103: \"Forward 1  Somersaults\",\r\n  104: \"Forward 2 Somersaults\",\r\n  105: \"Forward 2 Somersaults\",\r\n  106: \"Forward 3 Somersaults\",\r\n  107: \"Forward 3 Somersaults\",\r\n  108: \"Forward 4 Somersaults\",\r\n  109: \"Forward 4 Somersaults\",\r\n  1011: \"Forward 5 Somersaults\",\r\n  112: \"Forward Flying Somersaults\",\r\n  113: \"Forward Flying 1 Somersaults\",\r\n  114: \"Forward Flying 2 Somersaults\",\r\n  115: \"Forward Flying 2 Somersaults\",\r\n  201: \"Back Dive\",\r\n  202: \"Back 1 Somersault\",\r\n  203: \"Back 1 Somersaults\",\r\n  204: \"Back 2 Soms Somersaults\",\r\n  205: \"Back 2 Somersaults\",\r\n  206: \"Back 3 Somersaults\",\r\n  207: \"Back 3 Somersaults\",\r\n  208: \"Back 4 Somersaults\",\r\n  209: \"Back 4 Somersaults\",\r\n  212: \"Back Flying Somersaults\",\r\n  213: \"Back Flying 1 Somersaults\",\r\n  215: \"Back Flying 2  Somersaults\",\r\n  301: \"Reverse Dive\",\r\n  302: \"Reverse 1 Somersault\",\r\n  303: \"Reverse 1 Somersaults\",\r\n  304: \"Reverse 2 Somersaults\",\r\n  305: \"Reverse 2 Somersaults\",\r\n  306: \"Reverse 3 Somersaults\",\r\n  307: \"Reverse 3 Somersaults\",\r\n  308: \"Reverse 4 Somersaults\",\r\n  309: \"Reverse 4 Somersaults\",\r\n  312: \"Reverse Flying Somersaults\",\r\n  313: \"Reverse Flying 1 Somersaults\",\r\n  401: \"Inward Dive\",\r\n  402: \"Inward 1 Somersault\",\r\n  403: \"Inward 1 Somersault\",\r\n  404: \"Inward 2 Somersaults\",\r\n  405: \"Inward 2 Somersaults\",\r\n  406: \"Inward 3 Somersaults\",\r\n  407: \"Inward 3 Somersaults\",\r\n  408: \"Inward 4 Somersaults\",\r\n  409: \"Inward 4 Somersaults\",\r\n  412: \"Inward Flying Somersaults\",\r\n  413: \"Inward Flying 1 Somersaults\",\r\n  5111: \"Fwd Dive  Twist\",\r\n  5112: \"Fwd Dive 1 Twist\",\r\n  5121: \"Fwd Somersault  Twist\",\r\n  5122: \"Fwd Somersault 1 Twist\",\r\n  5124: \"Fwd Somersault 2 Twists\",\r\n  5131: \"Fwd 1 Somersaults  Twist\",\r\n  5132: \"Fwd 1 Somersaults 1 Twist\",\r\n  5134: \"Fwd 1 Somersaults 2 Twists\",\r\n  5136: \"Fwd 1 Somersaults 3 Twists\",\r\n  5138: \"Fwd 1 Somersaults 4 Twists\",\r\n  5152: \"Fwd 2 Somersaults 1 Twist\",\r\n  5154: \"Fwd 2 Somersaults 2 Twists\",\r\n  5156: \"Fwd 2 Somersaults 3 Twists\",\r\n  5172: \"Fwd 3 Somersaults 1 Twist\",\r\n  5211: \"Back Dive  Twist\",\r\n  5212: \"Back Dive 1 Twist\",\r\n  5221: \"Back Somersault  Twist\",\r\n  5222: \"Back Somersault 1 Twist\",\r\n  5223: \"Back Somersault 1 Twists\",\r\n  5225: \"Back Somersault 2 Twists\",\r\n  5231: \"Back 1 Somersaults  Twist\",\r\n  5233: \"Back 1 Somersaults 1 Twists\",\r\n  5235: \"Back 1 Somersaults 2 Twists\",\r\n  5237: \"Back 1 Somersaults 3 Twists\",\r\n  5239: \"Back 1 Somersaults 4 Twists\",\r\n  5251: \"Back 2 Somersaults  Twist\",\r\n  5253: \"Back 2 Somersaults 1 Twists\",\r\n  5255: \"Back 2 Somersaults 2 Twists\",\r\n  5257: \"Back 2 Somersaults 3 Twists\",\r\n  5271: \"Back 3 Somersaults  Twist\",\r\n  5273: \"Back 3 Somersaults 1 Twist\",\r\n  5275: \"Back 3 Somersaults 2 Twist\",\r\n  5311: \"Reverse Dive  Twist\",\r\n  5312: \"Reverse Dive 1 Twist\",\r\n  5321: \"Reverse Somersault  Twist\",\r\n  5322: \"Reverse Somersault 1 Twist\",\r\n  5323: \"Reverse Somersault 1 Twists\",\r\n  5325: \"Reverse Somersault 2 Twists\",\r\n  5331: \"Reverse 1 Soms.  Twists\",\r\n  5333: \"Reverse 1 Soms. 1 Twists\",\r\n  5335: \"Reverse 1 Soms. 2 Twists\",\r\n  5337: \"Reverse 1 Soms. 3 Twists\",\r\n  5339: \"Reverse 1 Soms. 4 Twists\",\r\n  5351: \"Reverse 2 Soms.  Twists\",\r\n  5353: \"Reverse 2 Soms. 1 Twists\",\r\n  5355: \"Reverse 2 Soms. 2 Twists\",\r\n  5371: \"Reverse 3 Soms.  Twists\",\r\n  5373: \"Reverse 3 Soms. 1 Twist\",\r\n  5375: \"Reverse 3 Soms. 2 Twist\",\r\n  5411: \"Inward Dive  Twist\",\r\n  5412: \"Inward Dive 1 Twist\",\r\n  5421: \"Inward Somersault  Twist\",\r\n  5422: \"Inward Somersault 1 Twist\",\r\n  5432: \"Inward 1 Somersaults 1 Twist\",\r\n  5434: \"Inward 1 Somersaults 2 Twists\",\r\n  5436: \"Inward 1 Somersaults 3 Twists\",\r\n  600: \"Armstand Dive\",\r\n  611: \"Armstand Forward  Somersault\",\r\n  612: \"Armstand Forward 1 Somersault\",\r\n  614: \"Armstand Forward 2 Somersaults\",\r\n  616: \"Armstand Forward 3 Somersaults\",\r\n  621: \"Armstand Back  Somersault\",\r\n  622: \"Armstand Back Somersault\",\r\n  623: \"Armstand Back 1 Somersaults\",\r\n  624: \"Armstand Back 2 Somersaults\",\r\n  626: \"Armstand Back 3 Somersaults\",\r\n  628: \"Armstand Back 4 Somersaults\",\r\n  631: \"Armstand Reverse  Somersault\",\r\n  632: \"Armstand Reverse 1 Somersault\",\r\n  633: \"Armstand Reverse 1 Soms.\",\r\n  634: \"Armstand Reverse 2 Soms.\",\r\n  636: \"Armstand Reverse 3 Soms.\",\r\n  638: \"Armstand Reverse 4 Soms.\",\r\n  6122: \"Armstand Fwd Som. 1 Twist\",\r\n  6124: \"Armstand Fwd Som. 2 Twists\",\r\n  6142: \"Armstand Fwd 2 Soms. 1 Twist\",\r\n  6144: \"Armstand Fwd 2 Soms. 2 Twists\",\r\n  6162: \"Armstand Fwd 3 Soms. 1 Twist\",\r\n  6221: \"Armstand Back Som.  Twist\",\r\n  6241: \"Armstand Back 2 Soms.  Twist\",\r\n  6243: \"Armstand Back 2 Soms 1 Twists\",\r\n  6245: \"Armstand Back 2 Soms 2 Twists\",\r\n  6247: \"Armstand Back 2 Soms 3 Twists\",\r\n  6261: \"Armstand Back 3 Soms.  Twist\",\r\n  6263: \"Armstand Back 3 Soms 1 Twists\",\r\n  6265: \"Armstand Back 3 Soms 2 Twists\"\r\n};\r\n","import React from \"react\";\r\n\r\nexport default class Infoscreen extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(props)\r\n    this.socket = io(\"/divecalc\");\r\n    this.socket.on(this.props.channel, data => {\r\n      console.log(data);\r\n      this.setState({ competitions: data });\r\n    });\r\n    this.state = { competitions: {}, index: 0 };\r\n  }\r\n  componentWillUnmount() {\r\n    this.socket.off(this.props.channel);\r\n  }\r\n  render() {\r\n    const compName = this.props.competition;\r\n    var compsAsArray = Object.keys(this.state.competitions);\r\n    const comp = compName\r\n      ? this.state.competitions[compName]\r\n      : this.state.competitions[compsAsArray[this.state.index % compsAsArray.length]];\r\n    return comp\r\n      ? <div className=\"bigscreen\">\r\n          <Scoreboard {...comp} cycle={()=>this.setState({index: this.state.index + 1})} />\r\n        </div>\r\n      : false;\r\n  }\r\n}\r\n\r\nclass Scoreboard extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  componentWillReceiveProps() {\r\n    this.setState({ slice: 1 });\r\n  }\r\n  render() {\r\n    const data = this.props;\r\n    const dive = data.diver.dive;\r\n    const showHeight = true; //[\"5\", \"7.5\", \"10\"].indexOf(dive.height) >= 0;\r\n    switch (data.action) {\r\n      case \"dive\":\r\n        return (\r\n          <div className=\"infoScreen\">\r\n            <h1>{dive.dive}</h1>\r\n            {showHeight && <h1>{dive.height}m</h1>}\r\n            <button onClick={this.props.cycle}>{data.event.name}</button>\r\n          </div>\r\n        );\r\n      default:\r\n        return false;\r\n    }\r\n  }\r\n}\r\n","import React from \"react\";\r\n\r\nexport default class Controls extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.socket = io(\"/divecalc\");\r\n    this.socket.on(this.props.channel, data => {\r\n      this.setState({ competitions: data });\r\n    });\r\n    this.state = { competitions: {} };\r\n  }\r\n  componentWillUnmount() {\r\n    this.socket.off(this.props.channel);\r\n  }\r\n  render() {\r\n    console.log(this.socket)\r\n    var competitions = Object.keys(this.state.competitions);\r\n    return (\r\n      <div className=\"controls\">\r\n        <div className=\"commercial-control\">\r\n        <h2>Reklame</h2>\r\n          <button onClick={()=>{\r\n            this.socket.emit(\"command\", {\r\n              type:\"command\",\r\n              channel:this.props.channel,\r\n              command: \"commercial\",\r\n              argument: \"rubb.jpg\"\r\n            });\r\n          }}>Rubb</button>\r\n          <button onClick={()=>{\r\n            this.socket.emit(\"command\", {\r\n              type:\"command\",\r\n              channel:this.props.channel,\r\n              command: \"commercial\",\r\n              argument: \"gtravel.png\"\r\n            });\r\n          }}>GTravel</button>\r\n          <button onClick={()=>{\r\n            this.socket.emit(\"command\", {\r\n              type:\"command\",\r\n              channel:this.props.channel,\r\n              command: \"commercial\",\r\n              argument: \"zanderk.svg\"\r\n            });\r\n          }}>Zander K</button>\r\n          <button onClick={()=>{\r\n            this.socket.emit(\"command\", {\r\n              type:\"command\",\r\n              channel:this.props.channel,\r\n              command: \"commercial\",\r\n              argument: \"takktil.png\"\r\n            });\r\n          }}>Takk til Bergen kommune & ADO</button>\r\n        </div>\r\n        <div className=\"controls-header\">\r\n          <h2>\r\n            {competitions.length\r\n              ? \"Active Competitions:\"\r\n              : \"No active competitions\"}\r\n          </h2>\r\n          <button\r\n            onClick={() => {\r\n              this.socket.emit(\"command\", {\r\n                type: \"command\",\r\n                channel: this.props.channel,\r\n                command: \"clearAll\"\r\n              });\r\n            }}\r\n          >\r\n            Clear all\r\n          </button>\r\n        </div>\r\n        {competitions.map(k =>\r\n          <Control\r\n            key={k}\r\n            onDelete={() => {\r\n              this.socket.emit(\"command\", {\r\n                type: \"command\",\r\n                channel: this.props.channel,\r\n                command: \"clear\",\r\n                argument: k\r\n              });\r\n            }}\r\n            {...this.state.competitions[k]}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Control extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  render() {\r\n    var props = this.props;\r\n    return (\r\n      <div className=\"control\">\r\n        <h3>{props.event.name}</h3>\r\n        <button onClick={props.onDelete}>Clear this competition</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport dives from \"./dives\";\r\nimport logos from \"./logos\";\r\nimport _ from \"lodash\";\r\n\r\nexport default class Commercial extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let self = this;\r\n        this.socket = io(\"/divecalc\");\r\n        console.log(props.channel + \"_commercial\")\r\n        this.socket.on(props.channel + \"_commercial\", data => {\r\n            self.setState({\r\n                logo: data.argument,\r\n                show: true\r\n            })\r\n            setTimeout(() => {\r\n                self.setState({ show: false });\r\n            }, 5000)\r\n        });\r\n        this.state = { competitions: {} };\r\n    }\r\n    componentWillUnmount() {\r\n        this.socket.off(this.props.channel + \"_commercial\");\r\n    }\r\n    render() {\r\n        return (\r\n            <div className={'commercial animated ' + (this.state.show ? 'fadeIn' : 'fadeOut')}>\r\n                {this.state.logo &&\r\n                    <img src={\"/img/\"+this.state.logo} alt=\"\" />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n}"]}